# =============================================================================
# LLM Firewall - Environment Variables Configuration
# Copy this file to .env and customize for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# Content length validation
MIN_CONTENT_LENGTH=10
MAX_CONTENT_LENGTH=100000

# PII detection confidence threshold (0.0 - 1.0)
PII_CONFIDENCE_THRESHOLD=0.7

# Enable/disable features
ENABLE_PROMPT_INJECTION_DETECTION=true
RATE_LIMIT_ENABLED=true
OBSERVABILITY_ENABLED=true

# ML Jailbreak Detection (Phase 5.1)
ML_JAILBREAK_ENABLED=true
ML_JAILBREAK_MODEL=sentence-transformers/all-MiniLM-L6-v2
ML_JAILBREAK_THRESHOLD=0.55
ML_AB_TESTING_ENABLED=true

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Global rate limit (requests per hour)
RATE_LIMIT_GLOBAL=10000

# Per-IP rate limit (requests per hour)
RATE_LIMIT_PER_IP=100

# Per-API-key rate limit (requests per hour)
RATE_LIMIT_PER_API_KEY=1000

# -----------------------------------------------------------------------------
# Redis Configuration (Distributed Rate Limiting)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# PostgreSQL Configuration (Audit Logs)
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=firewall_audit
POSTGRES_USER=firewall
POSTGRES_PASSWORD=firewall_password

# Audit log retention (days)
AUDIT_RETENTION_DAYS=90

# -----------------------------------------------------------------------------
# Grafana Configuration
# -----------------------------------------------------------------------------
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ANONYMOUS_ENABLED=false

# -----------------------------------------------------------------------------
# LLM Provider API Keys (Future Phases)
# -----------------------------------------------------------------------------
# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_ORG_ID=

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# -----------------------------------------------------------------------------
# Observability Configuration
# -----------------------------------------------------------------------------
# Prometheus metrics endpoint port
PROMETHEUS_PORT=9090

# Jaeger tracing (optional)
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_ENABLED=false

# Service metadata
SERVICE_NAME=llm-firewall-gateway
SERVICE_VERSION=1.0.0
DEPLOYMENT_ENVIRONMENT=development
